{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Drezgone\\\\Desktop\\\\Git Hub Projekti\\\\React-zadatak-v2-0\\\\src\\\\components\\\\Header.jsx\";\nimport React, { useEffect, useState } from \"react\";\nimport \"./Header.css\";\nimport { useHistory } from \"react-router-dom\";\nexport default function Header() {\n  const history = useHistory();\n  const [email, setEmail] = useState(null);\n  useEffect(() => {\n    const updateUserEmail = () => {\n      const userEmail = localStorage.getItem(\"userEmail\");\n      setEmail(userEmail);\n    };\n\n    // Slušanje događaja `userUpdate` da bi znali kad se iz neke druge komponente nesto promeni\n    window.addEventListener(\"userUpdate\", updateUserEmail);\n\n    // Uklanjanje listener-a kada se komponenta demontira\n    return () => {\n      window.removeEventListener(\"userUpdate\", updateUserEmail);\n    };\n  }, []);\n  const handleLogout = () => {\n    localStorage.removeItem(\"userEmail\"); // Brisanje email-a iz Local Storage\n    window.dispatchEvent(new Event(\"userUpdate\")); // Emituje događaj\n    history.push(\"/\"); // Redirektujemo na login stranicu\n  };\n  const handleLogin = () => {\n    history.push(\"/\");\n  };\n  return /*#__PURE__*/React.createElement(\"header\", {\n    className: \"App-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"header-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }, \"News\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, email ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, email), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"interspace\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, \" | \"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btnLogin-Logout\",\n    onClick: handleLogout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, \"logout\")) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btnLogin-Logout\",\n    onClick: handleLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }, \"login\"))));\n}","map":{"version":3,"names":["React","useEffect","useState","useHistory","Header","history","email","setEmail","updateUserEmail","userEmail","localStorage","getItem","window","addEventListener","removeEventListener","handleLogout","removeItem","dispatchEvent","Event","push","handleLogin","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onClick"],"sources":["C:/Users/Drezgone/Desktop/Git Hub Projekti/React-zadatak-v2-0/src/components/Header.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"./Header.css\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport default function Header() {\r\n  const history = useHistory();\r\n  const [email, setEmail] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const updateUserEmail = () => {\r\n      const userEmail = localStorage.getItem(\"userEmail\");\r\n      setEmail(userEmail);\r\n    };\r\n\r\n    // Slušanje događaja `userUpdate` da bi znali kad se iz neke druge komponente nesto promeni\r\n    window.addEventListener(\"userUpdate\", updateUserEmail);\r\n\r\n    // Uklanjanje listener-a kada se komponenta demontira\r\n    return () => {\r\n      window.removeEventListener(\"userUpdate\", updateUserEmail);\r\n    };\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem(\"userEmail\"); // Brisanje email-a iz Local Storage\r\n    window.dispatchEvent(new Event(\"userUpdate\")); // Emituje događaj\r\n    history.push(\"/\"); // Redirektujemo na login stranicu\r\n  };\r\n\r\n  const handleLogin = () => {\r\n    history.push(\"/\");\r\n  };\r\n\r\n  return (\r\n    <header className=\"App-header\">\r\n      <h2 className=\"header-title\">News</h2>\r\n      <div className=\"header-right\">\r\n        {email ? (\r\n          <div className=\"user-info\">\r\n            <span>{email}</span>\r\n            <span className=\"interspace\"> | </span>\r\n            <button className=\"btnLogin-Logout\" onClick={handleLogout}>\r\n              logout\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          <div className=\"login-button\">\r\n            <button className=\"btnLogin-Logout\" onClick={handleLogin}>\r\n              login\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}